W poniedziałek przez Polskę przetoczyły się fale awarii związanych z obsługą kart płatniczych. Pierwsza dość łagodnie potraktowała klientów kilku banków, druga połknęła karty tysięcy klientów mBanku. Za problemami w Polsce mogła stać firma ze Szwajcarii. Analizując poniedziałkowe kłopoty polskich banków z obsługą transakcji wykonywanych za pomocą kart płatniczych trafiliśmy na ciekawe ślady prowadzące do zupełnie innych krajów, które tego samego dnia doświadczyły gorszych zakłóceń systemów płatności niż Polska. Rozmowy z przedstawicielami banków pozwoliły nam nakreślić prawdopodobny scenariusz wydarzeń, który spróbujemy przedstawić poniżej. Aby opisać poniedziałkowe wydarzenia zacznijmy od krótkiego przedstawienia scenariusza płatności kartą. W najprostszym wariancie sprzedawca podpisuje umowę z agentem rozliczeniowym – firmą, która dostarczy terminal i będzie rozliczać wykonywane za jego pomocą transakcje. Agent rozliczeniowy współpracuje z markami kart płatniczych takimi jak Visa czy Mastercard, którym przesyła informacje o przeprowadzanych transakcjach. Te z kolei przekazują te informacje do banków, które księgują operacje na kontach klientów lub informują o braku środków na rachunku. W procesie obsługi pojedynczej transakcji między wszystkimi kolejnymi stronami transakcji może dojść do wymiany wielu komunikatów, a brak niektórych z nich lub nieprawidłowa zawartość może powodować zaskakujące skutki. W poniedziałek prawdopodobnie niektóre komunikaty nie dotarły tam gdzie trzeba – czego efektem okazały się problemy niektórych polskich banków. 20 czerwca o godzinie 17:36 jeden z dużych światowych agentów rozliczeniowych, firma SIX, ogłosił problemy sieciowe związane z dostępnością (lub raczej jej brakiem) swoich usług.  SIX to firma stworzona przez szwajcarskie banki, która gra dużą rolę na rynku rozliczania płatności kartowych w Szwajcarii, Luksemburgu i Austrii oraz w innych krajach Unii Europejskiej. Skutki awarii odczuli klienci w trzech ww. krajach – W Luksemburgu od poniedziałku rano nie działały terminale płatnicze, w Szwajcarii spora część płatności kartowych nie mogła dojść do skutku a w Austrii zawiodły zarówno terminale jak i bankomaty. Około godziny 17:15 problemy z płatnościami zaczęły dotykać także polskie podwórko. W krótkim odstępie czasu reklamacje zaczęli składać klienci BZ WBK, Credit Agricole i Smart Banku. Zgłoszenia problemów Jak donosi Bankier.pl klientów Credit Agricole i BZ WBK przez niecałą godzinę dotykał problem nieakceptowanych płatności kartowych a klienci Smart Banku zauważyli podwójne ksiegowania na swoich rachunkach. Powyższe problemy były jednak niczym wobec tego, co stało się z kartami niektórych klientów mBanku. Od około godziny 19 bankomaty zaczęły połykać wybrane karty a na terminalach płatniczych pojawiał się komunikat o konieczności odebrania karty klientowi. Skutki awarii Według naszych informacji problem dotknął co najmniej kilku tysięcy klientów. Nie sposób było się banku dodzwonić a profil banku na Facebooku aż kipiał od emocji użytkowników. Nie znamy ustaleń banków co do przyczyn awarii które je wczoraj spotkały. Wiemy, że problemy Credit Argicole oraz Smart Banku były wprost powiązane z problemami BZ WBK, bo to własnie centrum autoryzacyjne BZ WBK obsługuje m. in. transakcje klientów tych dwóch banków. Czy jednak problemy BZ WBK oraz mBanku mogły być spowodowane problemami firmy SIX? Eksperci, z którymi rozmawialiśmy na ten temat, mówią, że jest to dość prawdopodobne. Co ciekawe, znaleźliśmy dwa banki, które zauważyły w swoich systemach rozliczania transakcji kartowych problemy związane z awarią w Szwajcarii, jednak problemy te nie przełożyły się na zauważalne skutki dla ich klientów. W przypadku BZ WBK oraz mBanku mogło dojść do niefortunnego zbiegu okoliczności. Jak już wspominaliśmy, rozliczenia transakcji wymagają przesyłania wielu komunikatów. Na skutek awarii w firmie SIX transakcje części klientów banków, robiących zakupy u sprzedawców obsługiwanych przez tę firmę, nie zostały prawidłowo obsłużone. Niektóre komunikaty mogły nie dotrzeć do banków, inne mogły zostać nieprawidłowo skonstruowane. Każdy bank samodzielnie zbudował swoje systemy obsługi tych komunikatów oraz logikę biznesową wokół nich i zapewne w każdym inaczej wyglądała obsługa wyjatków. Jedne banki problemy z komunikacją przyjęły lepiej, inne najwyraźniej gorzej (a jeszcze inne katastrofalnie). Możliwe też, że część nieprawidłowych komunikatów spowodowała efekt śnieżnej kuli, który sprawił, że zwariowały kolejne systemy przetwarzające informacje o transakcjach a odkręcenie problemu zajęło trochę czasu. Oczywiście jest także możliwe, że trzy opisane powyżej incydenty były całkowitym zbiegiem okoliczności. Bez wątpienia są one dobrą nauką dla banków, które teraz przeglądają swoje skrypty i sprawdzają, co jeszcze może się nie udać w tak spektakularny sposób gdy zawiedzie jeden z dostawców. Jeśli ktoś z naszych Czytelników mógłby podzielić się wiedzą o tym, co stało się w poniedziałek (a przynajmniej wskazać, czy byliśmy na dobrym tropie), to zapraszamy do kontaktu. Dziękujemy!,Adam