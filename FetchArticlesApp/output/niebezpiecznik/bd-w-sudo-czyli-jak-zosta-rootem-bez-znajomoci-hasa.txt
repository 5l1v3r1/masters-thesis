Sprawdźcie sami: odpalcie sudo -k, potem przestawcie zegarek na 1970-01-01 01:00:00, a następnie wydajcie komendę sudo su — powinniście zostać rootem. Ominięcie potrzeby uwierzytelnienia przez reset czasu Powyższy błąd w sudo pozwala osobom, które uzyskają np. fizyczny dostęp do komputera na wykonanie dowolnego polecenia (z tych, które mogą wykonywać sudoersi) bez konieczności uwierzytelnienia się (tj. podania hasła do sudo). Na ataki szczególnie narażeni są użytkownicy Ubuntu i Mac OS X — dlatego że na tych systemach dość często korzysta się z sudo, a atak niestety zadziała tylko na tych kontach użytkowników, którzy kiedyś przynajmniej raz skorzystali z sudo. Na czym polega dziura? Kiedy użytkownik korzysta z sudo, tworzony jest plik timestamp (znacznik czasowy), pozwalający na wykonywanie poleceń bez potrzeby ponownego uwierzytelniania się przez 5 minut. Polecenie sudo -k, do którego użycia nie jest wymagane uwierzytelnienie się, resetuje tenże timestamp do czasu epoki (1970-01-01 01:00:00) …a przestawienie zegarka (które na niektórych dystrubucjach nie wymaga podania hasła roota) do czasu epoki sprawia, że znów wracają nam moce “uwierzytelnionego sudo”, czyli de facto jesteśmy rootem :-) Błąd dostał numerek CVE i został poprawiony w sudo w wersjach 1.8.6p7 oraz 1.7.10p7. TL;DR Atak na sudo zadziała jeśli: – masz dostęp fizyczny do maszyny i możesz na niej zmienić czas bez konieczności podania hasła (OS X w domyślnej konfiguracji) – użytkownik, który się nie wylogował skorzystał w przeszłości z sudo ,vi.curry