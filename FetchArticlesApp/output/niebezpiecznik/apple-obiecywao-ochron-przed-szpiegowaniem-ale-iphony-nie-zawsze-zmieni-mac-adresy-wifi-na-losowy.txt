Urządzenia mobilne (a generalnie wszystkie urządzenia korzystające z Wi-Fi) periodycznie wysyłają w “eter” zapytania o dostępne (znane) sieci Wi-Fi. Korzystają z tego różne firmy, które na podstawie archiwizowania tych zapytań, a zwłaszcza adresów MAC kart sieciowych w telefonach i tabletach klientów, śledzą częstotliwość odwiedzania sklepu przez klienta oraz ścieżkę po której poruszał się on między sklepowymi półkami. Te dane są wykorzystywane do podniesienia sprzedaży swoich produktów (por. Ten kosz na śmieci Cię śledzi — ta wtyczka w ścianie też oraz Supermarket śledzi twoją komórkę). Apple obiecało, że począwszy od iOS 8, MAC adres urządzenia będzie się zmieniał, aby uniemożliwić jego śledzenie. Jak jednak informuje Bhupinder Misra, ta “zmienność” MAC adresu nie zawsze zadziała. Kiedy iOS zmienia MAC adres dla Wi-Fi? Przede wszystkim, Misra potwierdził, że tylko iPhone 5S dokonuje zmiany MAC adresu podczas odpytywania o okoliczne sieci Wi-Fi. Inne urządzenia z iOS 8 (iPhone 5 oraz iPad mini) nie korzystały z tej funkcji. Misra nie posiada iPhona 6, więc nie wiadomo jak zachowa się najnowszy produkt Apple. Dodatkowo, zmiana MAC adresu odbędzie się tylko pod warunkiem, że: Telefon znajduje się w stanie uśpienia (wyłączony ekran) Interface Wi-Fi jest włączony, ale telefon nie jest podpięty do żadnej sieci Usługi lokalizacji są wyłączone Urządzenie odpytuje o okoliczne sieci co kilkaset sekund, stopniowo zwiększając interwał — zawsze jednak skanowanie odbywa się z tego samego MAC adresu — jest on zmieniany na nowy jedynie po wybudzeniu telefonu i ponownym uśpieniu. Dodatkowo, ten sam MAC jest używany do skanowania sieci w częstotliwości 2,4GHz i 5Ghz. Koniec w wyciekiem historycznych nazw sieci Wi-Fi Co ciekawe, iPhony i iPady z iOS 8 nie odpytują już o znane im sieci Wi-Fi a korzystają z zapytań null probe — to oznacza, że nie wycieka lista sieci bezprzewodowych, do których klient był wcześniej podpięty. Jest to więc z pożytkiem dla prywatności użytkownika, a dodatkowo utrudnia ataki z wykorzystaniem KARMA (por. Jak podsłuchać telefon komórkowy). Screen powyżej przedstawia zrzut z urządzenia Pineapple Wi-Fi, które w Niebezpieczniku wykorzystujemy czasem podczas prowadzenia testów penetracyjnych. Można na nim zauważyć o jakie sieci odpytują okoliczne urządzenia bezprzewodowe (tu telefony i laptopy uczestników jednej z konferencji). Następnie, korzystając z ataku “Fake AP“, można od razu podstawić taki SSID, którego szuka urządzenie. Część ze smartphonów, tabletów i laptopów podepnie się automatycznie do fałszywego Access Pointa, co umożliwia dalsze wykonywanie ataków MITM (np. sslstrip) lub po prostu sniffowanie niezaszyfrowanego ruchu. Jak zabezpieczyć się przed inwigilacją poprzez telefon komórkowy (lub tablet)? Szczegółowe wskazówki już wielokrotnie publikowaliśmy na łamach Niebezpiecznika, dlatego odsyłamy do archiwalnego (ale wciaż aktualnego) artykułu. W skrócie: pamiętaj o wyłączeniu wszystkich nieużywanych interfejsów w telefonie, laptopie i tablecie (oraz zegarku). Chodzi o BlueTooth, Wi-Fi i NFC. wyłącz autopodłączanie do znanych sieci i regularnie “zapominaj” stare sieci Wi-Fi automatycznie szyfruj dane po podpięciu do sieci Wi-Fi — np. korzystając z VPN. randomizuj MAC adres bezprzewodowej sieciówki (zarówno na laptopach jak i na urządzeniach mobilnych). Jeśli nie masz iOS 8 i sprzętu nowszego od iPhone 5S+, to możesz skorzystać z dodatkowych aplikacji. ,vi.curry