Coś się posypało Onetowi i przez kilka chwil na niektórych blogach zamiast treści internauci otrzymywali kod źródłowy w PHP, poinformował nas jeden z czytelników. Ta niegroźna wpadka prowadzi do kilku ciekawych wniosków. Kod PHP szablonu bloga na Onecie Na wstępie podkreślmy, że tego typu błędy zdarzają się często i naprawdę nie jest to nic “superstrasznego”. Zdradliwa w tym przypadku może być np. zabawa konfiguracją webserwera bezprośrednio na produkcji (czasem wystarczy zmiana kolejności regułek rewrite’ujących lub brak instrukcji kierującej dany typ plików na interpreter PHP). Nie Onet pierwszy i ostatni, chociaż trzeba nadmienić że Onetowi w przeszłości zdarzało się już omyłkowo serwować kod PHP — wspomnijmy tylko zabawny komentarz opisujący zmienną odpowiedzialną za przekazywanie “pełnego” cookie do serwisów partnerskich: “(unikać jak ognia)“. Przechodząc jednak do wniosków z dzisiejszego zdarzenia: uważaj na komentarze w kodzie, jeśli kod “wycieknie” lub zostanie przypadkowo upubliczniony, niektórzy mogą sobie żartować, a czasem nawet wykorzystać zawarte w nich dane do ataków social-engineering: //sprawdzenie czy blog XXX-jesli tak to bez reklam! //nr zlecenia 119XX rafal.XXXX@portal.onet.pl Ale to nic w porównaniu z tym, co można znaleźć w kodzie źródłowym Windows (btw: przeklinania). dbaj o jakość kodu — to chyba najcięższe, bo każdy z nas czasem jest zmuszony do stosowania brzydkich “hacków”, ale trzeba mieć świadomość, że jeśli kod “wycieknie” lub zostanie przypadkowo upubliczniony, niektórzy mogą zauważyć w nim błędy (także bezpieczeństwa) lub poznać inne grzeszki, które w nim przemyciliśmy. testuj zmiany, które wprowadzasz do konfiguracji produkcyjnych maszyn na testowym webserwerze. Jasne, nie każdego na to stać, ale pomyłka może kosztować cię drożej niż środowisko testowe, jeśli w niesparsowanym kodzie PHP pojawi się hasło do bazy danych... (Onet na szczęście trzyma część kodu PHP w katalogach, do których dostęp z zewnątrz wymaga uwierzytelnienia) Zgodnie z zasadą Security-In-Depth, zastanów się, jak (i czy w ogóle) możesz skonfigurować swojego WAF-a tak, aby uniemożliwiał internautom dostęp do “gołych” plików PHP w przypadku “problemów” webserwera. Dowcipnie rzecz ujmując, wersja PHP niektórych blogów Onetu podoba nam się zdecydowanie bardziej od ich wersji normalnej… Kto wie, może Onet zdechł właśnie ze względu na nadmiar różu u emo-martynki i podobnych? :> P.S. Dziś chyba dzień plucia kodem (mind, że to nie PHP). Właśnie otrzymaliśmy screenshot z dzisiejszej Naszej Klasy: Informacje podesłał macnow. ,Mr. Niebezpieczny